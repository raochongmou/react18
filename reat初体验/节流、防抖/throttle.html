<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>throttle節流</title>
</head>
<body>
  <script>
    function  changeColor() {
      // this.style.backgroudcolor = `rgb(${Math.random()*255}, ${Math.random()*255}, ${Math.random()*255}`;
      let r = Math.floor(Math.random()*255);
      let g = Math.floor(Math.random()*255);
      let b = Math.floor(Math.random()*255);
      document.body.style.background = `rgb(${r}, ${g}, ${b})`;
    }
    function throttle(func, await) {
      let pre = 0;
      let timeout = null;
      return function () {
        let _self = this;
        let args = arguments;
        let now = new Date();
        if(now - pre > await) {
          func.apply(_self, args);
          pre = now;
        }
      }
    }
    window.onresize = throttle(changeColor, 2000);
  </script>
</body>
</html>